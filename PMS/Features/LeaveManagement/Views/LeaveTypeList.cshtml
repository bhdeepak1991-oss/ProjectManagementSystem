@model IEnumerable<PMS.Domains.LeaveType>

<div class="row">
	<div class="col-xs-12">
		<div class="box">
			<div class="box-body">
				<table id="documentTable" class="table table-bordered table-striped">
					<thead>
						<tr>
							<th>Name</th>
							<th>Code</th>
							<th>Start Date</th>
							<th>End Date</th>
							<th>Allocated(per month) </th>
							<th>Is Carry Forward</th>
							<th>CF Leave Count</th>
							<th>Employement</th>
							<th>Action</th>
						</tr>
					</thead>
					<tbody>
						@foreach (var item in Model)
						{
							<tr>
								<td>@item.LeaveTypeName</td>
								<td>@item.LeaveTypeCode</td>
								<td>@item.LeaveCalcullationStartDate?.Date.ToShortDateString()</td>
								<td>@item.LeaveCalcullationEndDate?.Date.ToShortDateString()</td>
								<td>@item.PermonthAllocatedLeave</td>
								<td>@item.IsCarryForward</td>
								<td>@(item.CarryForwardLeaveCount?.ToString() ?? "N/A")</td>
								<td>@item.EmployementStatus</td>
								<td>
									<a asp-action="Index" asp-route-id="@item.Id" asp-controller="LeaveManagement" class="btn btn-success" title="Edit">
										<i class="fa fa-edit"></i>
									</a>
									<a href="#" class="btn btn-danger" title="Delete" onclick="confirmDelete('@item.Id')">
										<i class="fa fa-trash"></i>
									</a>
								</td>
							</tr>
						}
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>

<script>
	$(document).ready(function () {
		$('#documentTable').DataTable({
			"paging": true,
			"lengthChange": true,
			"searching": true,
			"ordering": true,
			"info": true,
			"autoWidth": false,
			"responsive": true
		});
	});

	function confirmDelete(id) {
		confirmAction({
			title: 'Delete Record',
			text: 'Are you sure you want to delete this records?',
			confirmText: 'Yes, delete it!',
			cancelText: 'No, keep it'
		}).then((result) => {
			if (result.isConfirmed) {
				$.get('/Features/UserManagement/DeleteEmployee', {id:id},function(resp){
					toastr.success("Deleted successfully!");
					fn_EmployeeList();
					hideLoader();
				});
			}
		});
	}
</script>





