@model IEnumerable<PMS.Features.Dashboard.ViewModels.ProjectTaskPercetage>

<li class="dropdown tasks-menu">
    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
        <i class="fa fa-flag-o"></i>
        <span class="label label-danger">@Model.Count()</span>
    </a>
    <ul class="dropdown-menu">
        <li class="header">You have @Model.Count() Status</li>
        <li>

            <ul class="menu">
                @foreach (var data in Model)
                {
                    <li>
                        <!-- Task item -->
                        <a href="#">
                            <h3>
                                @data.TaskStatus
                                <small class="pull-right"> @data.Percentage.ToString("0.00")%</small>
                            </h3>
                            <div class="progress xs">
                                @{
                                    // Percent value (0-100)
                                    double pct =Convert.ToDouble(data.Percentage);

                                    // Convert percentage to a hue (0 = red, 120 = green)
                                    // 0% -> red, 50% -> yellow, 100% -> green
                                    int hue = (int)(pct * 1.2); // scale 0..100 to 0..120
                                    string colorStyle = $"background-color: hsl({hue}, 90%, 45%);";
                                }


                                <div class="progress-bar" style="width:@data.Percentage%; @colorStyle; height:20px !important">
                                </div>

                            </div>
                        </a>
                    </li>
                }
               

            </ul>
        </li>
        <li class="footer">
            <a href="#">View all tasks</a>
        </li>
    </ul>
</li>